import Link from "next/link";
import React from "react";

interface FooterProps {
  contacts: {
    mail: string;
    phone: string;
    wa: string;
    tg?: string;
    ig?: string;
  };
  legal: {
    title: string;
    href: string;
  }[];
  info: {
    title: string;
    href: string;
  }[];
}

export function Footer({
  contacts,
  legal,
  info,
}: FooterProps) {
  return (
    <footer
      className='py-8 lg:py-16 px-2 bg-linear-to-bl bg-gray-900 dark:bg-slate-900'
    >
      <div className='p-4 lg:p-10 max-w-6xl mx-auto font-landing flex flex-col md:flex-row items-start text-white gap-8 md:gap-8 lg:gap-16 xl:gap-24'>
        <div className='max-w-xs text-center'>
          <Link href='/' aria-label='На главную страницу' prefetch={false}>
            <svg
              xmlns='http://www.w3.org/2000/svg'
              viewBox='0 0 160 55'
              fill='none'
              className='w-32 md:w-48 shrink-0 text-white'
            >
              <path
                fillRule='evenodd'
                clipRule='evenodd'
                d='M137.411 31.7534C135.925 31.7534 134.747 32.8728 134.747 34.2561V52.0707C134.747 53.454 135.925 54.5737 137.411 54.5737C138.897 54.5737 140.075 53.454 140.075 52.0707V34.2561C140.075 32.8728 138.897 31.7534 137.411 31.7534ZM39.6122 51.9909C40.3854 51.1121 40.772 50.0634 40.772 48.845C40.772 47.9062 40.5358 47.0772 40.0632 46.3581C39.6122 45.6391 38.8175 45.0598 37.6792 44.6204C36.5409 44.1609 34.9837 43.8513 33.0078 43.6915L28.5619 43.362C27.3376 43.2621 26.5 43.0923 26.049 42.8526C25.5979 42.5929 25.3724 42.2634 25.3724 41.8639C25.3724 41.2846 25.7375 40.8552 26.4678 40.5755C27.198 40.2759 28.2397 40.1261 29.5928 40.1261C30.7956 40.1261 31.7728 40.2459 32.5245 40.4856C33.2763 40.7253 33.8454 41.0349 34.232 41.4145C34.8472 41.9565 35.5617 42.583 36.3815 42.583H37.2844C38.973 42.583 40.2675 41.0042 39.1002 39.7841C39.0169 39.6971 38.9298 39.6113 38.839 39.5269C37.9155 38.648 36.6805 37.9589 35.1341 37.4595C33.5877 36.9601 31.8265 36.7105 29.8505 36.7105C27.9175 36.7105 26.21 36.9202 24.7281 37.3397C23.2676 37.7591 22.1293 38.3783 21.3131 39.1973C20.4969 40.0162 20.0889 41.0349 20.0889 42.2534C20.0889 43.1323 20.3359 43.9412 20.8299 44.6803C21.3453 45.3994 22.2044 45.9986 23.4072 46.478C24.6099 46.9574 26.2315 47.277 28.2719 47.4368L31.6869 47.6765C33.1474 47.7963 34.1461 47.9761 34.683 48.2158C35.2415 48.4555 35.5207 48.805 35.5207 49.2644C35.5207 49.9036 35.1233 50.383 34.3287 50.7026C33.5555 51.0222 32.4064 51.182 30.8815 51.182C29.7861 51.182 28.8196 51.0721 27.982 50.8524C27.1658 50.6327 26.5 50.3231 25.9845 49.9236C25.9238 49.8742 25.8626 49.824 25.801 49.7733L25.7996 49.7723L25.7984 49.7712L25.7978 49.7707C25.0343 49.144 24.1956 48.4555 23.2267 48.4555H22.6611C20.9649 48.4555 19.5824 49.998 20.6553 51.3118C20.7692 51.4513 20.8919 51.5878 21.0232 51.7213C21.9467 52.6601 23.2354 53.3892 24.8892 53.9085C26.543 54.4079 28.4867 54.6575 30.7204 54.6575C32.8897 54.6575 34.726 54.4378 36.2295 53.9984C37.7329 53.539 38.8605 52.8698 39.6122 51.9909ZM121.936 54.6575C119.659 54.6575 117.662 54.288 115.943 53.5489C114.225 52.7899 112.883 51.7413 111.916 50.403C110.95 49.0447 110.467 47.4767 110.467 45.699C110.467 43.9013 110.95 42.3333 111.916 40.995C112.883 39.6367 114.225 38.5881 115.943 37.849C117.662 37.09 119.659 36.7105 121.936 36.7105C124.212 36.7105 126.21 37.09 127.928 37.849C129.646 38.5881 130.978 39.6367 131.923 40.995C132.889 42.3333 133.373 43.9013 133.373 45.699C133.373 47.4767 132.889 49.0447 131.923 50.403C130.978 51.7413 129.646 52.7899 127.928 53.5489C126.21 54.288 124.212 54.6575 121.936 54.6575ZM121.936 50.8524C123.181 50.8524 124.245 50.6427 125.125 50.2232C126.027 49.8037 126.715 49.2145 127.187 48.4555C127.681 47.6765 127.928 46.7576 127.928 45.699C127.928 44.6204 127.681 43.7015 127.187 42.9425C126.715 42.1635 126.027 41.5643 125.125 41.1448C124.245 40.7253 123.181 40.5156 121.936 40.5156C120.712 40.5156 119.648 40.7253 118.746 41.1448C117.844 41.5643 117.146 42.1635 116.652 42.9425C116.18 43.7015 115.943 44.6204 115.943 45.699C115.943 46.7576 116.18 47.6765 116.652 48.4555C117.146 49.2145 117.844 49.8037 118.746 50.2232C119.648 50.6427 120.712 50.8524 121.936 50.8524ZM91.9881 53.5489C93.7063 54.288 95.7038 54.6575 97.9804 54.6575C100.257 54.6575 102.255 54.288 103.973 53.5489C105.691 52.7899 107.023 51.7413 107.968 50.403C108.934 49.0447 109.417 47.4767 109.417 45.699C109.417 43.9013 108.934 42.3333 107.968 40.995C107.023 39.6367 105.691 38.5881 103.973 37.849C102.255 37.09 100.257 36.7105 97.9804 36.7105C95.7038 36.7105 93.7063 37.09 91.9881 37.849C90.2699 38.5881 88.9275 39.6367 87.961 40.995C86.9945 42.3333 86.5113 43.9013 86.5113 45.699C86.5113 47.4767 86.9945 49.0447 87.961 50.403C88.9275 51.7413 90.2699 52.7899 91.9881 53.5489ZM101.17 50.2232C100.289 50.6427 99.2261 50.8524 97.9804 50.8524C96.7562 50.8524 95.693 50.6427 94.791 50.2232C93.8889 49.8037 93.1909 49.2145 92.6969 48.4555C92.2243 47.6765 91.9881 46.7576 91.9881 45.699C91.9881 44.6204 92.2243 43.7015 92.6969 42.9425C93.1909 42.1635 93.8889 41.5643 94.791 41.1448C95.693 40.7253 96.7562 40.5156 97.9804 40.5156C99.2261 40.5156 100.289 40.7253 101.17 41.1448C102.072 41.5643 102.759 42.1635 103.232 42.9425C103.726 43.7015 103.973 44.6204 103.973 45.699C103.973 46.7576 103.726 47.6765 103.232 48.4555C102.759 49.2145 102.072 49.8037 101.17 50.2232ZM60.6259 47.257C62.3121 47.257 63.6275 48.8178 62.6922 50.2209C62.4844 50.5326 62.2501 50.833 61.9893 51.122C61.0013 52.2406 59.7233 53.1095 58.1555 53.7287C56.5876 54.3479 54.8371 54.6575 52.9041 54.6575C50.7134 54.6575 48.7804 54.288 47.1051 53.5489C45.4513 52.7899 44.1519 51.7313 43.2069 50.373C42.2833 49.0147 41.8216 47.4567 41.8216 45.699C41.8216 43.9212 42.2833 42.3632 43.2069 41.0249C44.1519 39.6667 45.4513 38.608 47.1051 37.849C48.7804 37.09 50.7134 36.7105 52.9041 36.7105C54.8371 36.7105 56.5876 37.0301 58.1555 37.6692C59.7233 38.2884 61.0013 39.1573 61.9893 40.2759C62.2528 40.5627 62.4892 40.8624 62.6986 41.1751C63.6375 42.5771 62.3133 44.141 60.6259 44.141C59.3468 44.141 58.3153 43.1683 57.445 42.2309C57.1796 41.9452 56.8688 41.693 56.5124 41.4744C55.5244 40.8352 54.3217 40.5156 52.9041 40.5156C51.7658 40.5156 50.7671 40.7253 49.908 41.1448C49.0703 41.5443 48.426 42.1335 47.975 42.9125C47.5239 43.6716 47.2984 44.6004 47.2984 45.699C47.2984 46.7776 47.5239 47.7064 47.975 48.4854C48.426 49.2444 49.0703 49.8337 49.908 50.2532C50.7671 50.6526 51.7658 50.8524 52.9041 50.8524C54.3431 50.8524 55.5566 50.5228 56.5446 49.8637C56.875 49.6479 57.1652 49.4097 57.4151 49.149C58.2998 48.2259 59.3474 47.257 60.6259 47.257ZM65.4782 34.2561C65.4782 32.8728 66.6567 31.7534 68.1424 31.7534C69.6281 31.7534 70.8066 32.8728 70.8066 34.2561V43.3716L70.8068 42.1415L70.8072 39.6901C70.8072 39.194 72.1384 36.7136 76.6674 36.7136C81.1964 36.7136 84.6606 39.9382 84.6606 43.4225V49.6236L84.6603 49.6441V52.0928C84.6603 53.476 83.4818 54.5957 81.9961 54.5957C80.5104 54.5957 79.332 53.476 79.332 52.0928V46.1623C79.332 46.1084 79.3338 46.0548 79.3373 46.0017C79.3101 43.9874 78.7148 40.6939 75.342 40.6939C71.8991 40.6939 70.8165 43.8779 70.8066 46.1226V52.0707C70.8066 53.454 69.6281 54.5737 68.1424 54.5737C66.6567 54.5737 65.4782 53.454 65.4782 52.0707V34.2561Z'
                fill='currentColor'
              />
              <path
                fillRule='evenodd'
                clipRule='evenodd'
                d='M45.024 3.7802C45.024 1.69245 43.0644 0 40.6471 0C38.2298 0 36.2701 1.69245 36.2701 3.7802V15.066C36.2701 21.8739 42.6602 27.3927 50.5427 27.3927H60.9246C63.0733 27.3927 64.8152 25.8883 64.8152 24.0326C64.8152 22.1768 63.0733 20.6724 60.9246 20.6724H52.6039C47.1387 20.6724 45.024 18.9977 45.024 13.0628V3.7802ZM13.8782 19.1428C13.8782 20.8271 15.2437 22.1925 16.928 22.1925H23.369C23.593 22.1925 23.8114 22.1683 24.0216 22.1225L25.4557 25.2097C26.091 26.5772 27.4618 27.4519 28.9696 27.4519C31.8347 27.4519 33.7087 24.4497 32.4504 21.8757L24.1391 4.8751C22.6983 1.92799 19.7044 0.0591558 16.424 0.0591558C13.1435 0.0591558 10.1497 1.92799 8.7089 4.87509L0.398741 21.8734C-0.860158 24.4485 1.01467 27.4519 3.88098 27.4519C5.38753 27.4519 6.7576 26.579 7.39412 25.2135L16.4416 5.80503L21.2207 16.093H16.928C15.2436 16.093 13.8782 17.4584 13.8782 19.1428ZM71.6059 6.77951C71.568 7.00305 71.5483 7.23278 71.5483 7.46712V23.3676C71.5483 25.6233 73.3769 27.4519 75.6326 27.4519C77.8883 27.4519 79.7169 25.6233 79.7169 23.3676V7.46711C79.7169 7.23278 79.6972 7.00305 79.6593 6.77951H87.5886C89.4444 6.77951 90.9488 5.27511 90.9488 3.41933C90.9488 1.56356 89.4444 0.0591558 87.5886 0.0591558H63.6766C61.8209 0.0591558 60.3165 1.56356 60.3165 3.41933C60.3165 5.27511 61.8209 6.77951 63.6766 6.77951H71.6059ZM98.5243 22.1925C98.4049 22.1925 98.2871 22.1856 98.1713 22.1723L96.7537 25.2135C96.1171 26.579 94.7471 27.4519 93.2405 27.4519C90.3742 27.4519 88.4994 24.4484 89.7583 21.8734L98.0684 4.87509C99.5092 1.92799 102.503 0.0591558 105.784 0.0591558C109.064 0.0591558 112.058 1.92799 113.499 4.8751L121.81 21.8757C123.068 24.4497 121.194 27.4519 118.329 27.4519C116.821 27.4519 115.45 26.5772 114.815 25.2097L113.381 22.1225C113.171 22.1683 112.953 22.1925 112.729 22.1925H98.5243ZM105.801 5.80504L110.58 16.093H101.005L105.801 5.80504ZM152.106 18.8441V4.00601C152.106 1.82622 153.873 0.0591558 156.053 0.0591558C158.233 0.0591558 160 1.82622 160 4.006V20.6102C160 24.3888 156.937 27.4519 153.158 27.4519C151.012 27.4519 148.99 26.4446 147.697 24.7313L135.219 8.19559V23.505C135.219 25.6848 133.452 27.4519 131.272 27.4519C129.093 27.4519 127.326 25.6848 127.326 23.505V7.09237C127.326 3.20803 130.474 0.0591558 134.359 0.0591558C136.559 0.0591558 138.632 1.08834 139.961 2.84061L152.106 18.8441Z'
                fill='currentColor'
              />
            </svg>
          </Link>
          <p className='text-sm whitespace-nowrap text-left md:text-center mt-4 font-semibold'>
            © 2026 IT-школа АЛТАН
          </p>
        </div>
        <div className='max-w-xs'>
          <FooterBigText>КОНТАКТЫ</FooterBigText>
          <FooterLink link={`tel:+${contacts.phone.replace(/\D/g, "")}`}>
            <svg
              fill='currentColor'
              viewBox='0 0 20 20'
              xmlns='http://www.w3.org/2000/svg'
              aria-hidden='true'
              className='w-4 h-4 mr-2 my-auto'
            >
              <path
                clipRule='evenodd'
                fillRule='evenodd'
                d='M2 3.5A1.5 1.5 0 013.5 2h1.148a1.5 1.5 0 011.465 1.175l.716 3.223a1.5 1.5 0 01-1.052 1.767l-.933.267c-.41.117-.643.555-.48.95a11.542 11.542 0 006.254 6.254c.395.163.833-.07.95-.48l.267-.933a1.5 1.5 0 011.767-1.052l3.223.716A1.5 1.5 0 0118 15.352V16.5a1.5 1.5 0 01-1.5 1.5H15c-1.149 0-2.263-.15-3.326-.43A13.022 13.022 0 012.43 8.326 13.019 13.019 0 012 5V3.5z'
              ></path>
            </svg>
            <p className='text-sm'>{contacts.phone}</p>
          </FooterLink>
          <FooterLink link={`https://wa.me/${contacts.wa.replace(/\D/g, "")}`}>
            <svg
              xmlns='http://www.w3.org/2000/svg'
              viewBox='0 0 448 512'
              className='w-4 h-4 mr-2 my-auto'
              fill='currentColor'
            >
              <path d='M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z' />
            </svg>
            <p className='text-sm'>{contacts.wa}</p>
          </FooterLink>
          {contacts.tg && (
            <FooterLink link={`https://t.me/${contacts.tg}`}>
              <svg
                xmlns='http://www.w3.org/2000/svg'
                viewBox='0 0 496 512'
                className='w-4 h-4 mr-2 my-auto'
                fill='currentColor'
              >
                <path d='M248,8C111.033,8,0,119.033,0,256S111.033,504,248,504,496,392.967,496,256,384.967,8,248,8ZM362.952,176.66c-3.732,39.215-19.881,134.378-28.1,178.3-3.476,18.584-10.322,24.816-16.948,25.425-14.4,1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25,5.342-39.5,3.652-3.793,67.107-61.51,68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608,69.142-14.845,10.194-26.894,9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7,18.45-13.7,108.446-47.248,144.628-62.3c68.872-28.647,83.183-33.623,92.511-33.789,2.052-.034,6.639.474,9.61,2.885a10.452,10.452,0,0,1,3.53,6.716A43.765,43.765,0,0,1,362.952,176.66Z' />
              </svg>
              <p className='text-sm'>{contacts.tg}</p>
            </FooterLink>
          )}
          {"ig" in contacts && (
            <FooterLink link={`https://instagram.com/${contacts.ig}`}>
              <svg
                fill='currentColor'
                viewBox='0 0 24 24'
                aria-hidden='true'
                className='w-4 h-4 mr-2 my-auto'
              >
                <path
                  fillRule='evenodd'
                  d='M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z'
                  clipRule='evenodd'
                ></path>
              </svg>
              <p className='text-sm'>{contacts.ig}</p>
            </FooterLink>
          )}
          <FooterLink link={`mailto:${contacts.mail}`}>
            <svg
              xmlns='http://www.w3.org/2000/svg'
              viewBox='0 0 512 512'
              className='w-4 h-4 mr-2 my-auto'
              fill='currentColor'
            >
              <path d='M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z' />
            </svg>
            <p className='text-sm'>{contacts.mail}</p>
          </FooterLink>
        </div>
        {legal && legal.length > 0 && (
          <div className='max-w-xs'>
            <FooterBigText>ПРАВОВАЯ ИНФОРМАЦИЯ</FooterBigText>
            {legal.map((item, index) => (
              <FooterLink key={index} link={item.href}>
                <p className='text-sm'>{item.title}</p>
              </FooterLink>
            ))}
          </div>
        )}
        {info && info.length > 0 && (
          <div className='max-w-xs'>
            <FooterBigText>ИНФОРМАЦИЯ</FooterBigText>
            {info.map((item, index) => (
              <FooterLink key={index} link={item.href}>
                <p className='text-sm'>{item.title}</p>
              </FooterLink>
            ))}
          </div>
        )}
      </div>
    </footer>
  );
}

const FooterBigText = ({ children }: { children: React.ReactNode }) => {
  return <p className='text-base lg:text-lg font-semibold mb-2'>{children}</p>;
};

const FooterLink = ({
  link,
  children,
}: {
  link: string;
  children: React.ReactNode;
}) => {
  return (
    <a
      className='text-sm lg:text-base flex items-start mb-3'
      href={link}
      target='_blank'
      rel='noreferrer'
    >
      {children}
    </a>
  );
};
